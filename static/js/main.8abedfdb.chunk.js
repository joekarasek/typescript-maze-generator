(this["webpackJsonpnew-mazes"]=this["webpackJsonpnew-mazes"]||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),l=n(4),s=n.n(l),r=(n(12),n(6)),h=n(1),o=n(2),u=function(){function e(t,n){Object(h.a)(this,e),this.row=void 0,this.col=void 0,this.links=void 0,this.neighbors=void 0,this.pathWeight=void 0,this.row=t,this.col=n,this.links=[],this.neighbors={north:null,east:null,west:null,south:null},this.pathWeight=null}return Object(o.a)(e,[{key:"addNeighbor",value:function(e,t){this.neighbors[t]=e}},{key:"link",value:function(e){e&&-1===this.links.indexOf(e)&&(this.links.push(e),e.link(this))}},{key:"unlink",value:function(e){var t=this.links.indexOf(e);t>=0&&(this.links.splice(t,1),e.unlink(this))}},{key:"isLinked",value:function(e){return!!e&&-1!==this.links.indexOf(e)}},{key:"sampleNeighbor",value:function(){var e=["north","east","south","west"],t=-1;do{t=Math.floor(4*Math.random())}while(!this.neighbors[e[t]]);return this.neighbors[e[t]]}},{key:"getCellRenderData",value:function(){return{hasSouthWall:!this.isLinked(this.neighbors.south),hasNorthWall:!this.isLinked(this.neighbors.north),hasEastWall:!this.isLinked(this.neighbors.east),hasWestWall:!this.isLinked(this.neighbors.west),pathWeight:this.pathWeight}}}]),e}(),c=function(){function e(t,n){Object(h.a)(this,e),this.rows=void 0,this.cols=void 0,this.cells=void 0,this.maxPathWeight=void 0,this.rows=t,this.cols=n,this.cells=[],this.buildCells(),this.setAllCellNeighbors(),this.maxPathWeight=null}return Object(o.a)(e,[{key:"buildCells",value:function(){for(var e=0;e<this.rows;e++){this.cells.push([]);for(var t=0;t<this.cols;t++)this.cells[e][t]=new u(e,t)}}},{key:"setAllCellNeighbors",value:function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.cols;t++)this.setSingleCellNeighbors(this.getCell(e,t))}},{key:"setSingleCellNeighbors",value:function(e){if(e){var t=e.row,n=e.col;e.addNeighbor(this.getCell(t-1,n),"north"),e.addNeighbor(this.getCell(t,n-1),"west"),e.addNeighbor(this.getCell(t+1,n),"south"),e.addNeighbor(this.getCell(t,n+1),"east")}}},{key:"getCell",value:function(e,t){return this.cells[e]&&this.cells[e][t]||null}},{key:"sample",value:function(){var e=Math.floor(Math.random()*this.rows),t=Math.floor(Math.random()*this.cols);return this.getCell(e,t)}},{key:"getRow",value:function(e){return this.cells[e]||null}},{key:"getAll",value:function(){return this.cells.flatMap((function(e){return e}))}},{key:"size",value:function(){return this.getAll().length}},{key:"getRenderData",value:function(){return this.cells.map((function(e){return e.map((function(e){return e.getCellRenderData()}))}))}},{key:"buildPaths",value:function(e){switch(e){case"Aldous Broder":!function(e){for(var t=e.sample(),n=e.size()-1,i=1;n>0&&i<25e3;){var a=t&&t.sampleNeighbor();a&&0===a.links.length&&(t.link(a),n--),t=a,i++}console.log("Aldous Broder maze generation visited ".concat(i," cells before visiting all cells and completing"))}(this);break;case"side winder":!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;e.cells.forEach((function(e){var n=[];e.forEach((function(e){n.push(e);var i=null===e.neighbors.east,a=null===e.neighbors.north;if(i||!a&&Math.random()<t){var l=Math.floor(Math.random()*n.length);n[l].neighbors.north&&n[l].link(n[l].neighbors.north),n=[]}else e.link(e.neighbors.east)}))}))}(this);break;case"binary tree":default:this.getAll().forEach((function(e){var t=[];if(e.neighbors.north&&t.push(e.neighbors.north),e.neighbors.east&&t.push(e.neighbors.east),t.length>0){var n=t[Math.floor(Math.random()*t.length)];e.link(n)}}))}}},{key:"clearAllPathWeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.cells.forEach((function(t){return t.forEach((function(t){e.includes(t)||(t.pathWeight=null)}))}))}},{key:"findPath",value:function(e,t){if(e&&t){this.clearAllPathWeights(),this.setDijkstra(e);for(var n=[t],i=t;i!==e;)i.links.forEach((function(e){e.pathWeight<i.pathWeight&&(n.push(e),i=e)}));this.clearAllPathWeights(n)}}},{key:"setDijkstra",value:function(e){if(e){e.pathWeight=1;for(var t=[e],n=1,i=function(){var e=[];t.forEach((function(t){t.links.forEach((function(i){if(null===i.pathWeight){var a=t.pathWeight+1;i.pathWeight=a,e.push(i),n=a}}))})),t=e};t.length>0;)i();this.maxPathWeight=n}}}]),e}(),f=n(5),g=n.n(f);function d(e){var t=e.renderData;return a.a.createElement("div",{className:"square-maze"},t.map((function(e,t){return a.a.createElement("div",{key:"row-".concat(t),className:"square-maze__row"},e.map((function(e,n){var i=g()("square-maze__cell",{"square-maze__cell--has-north-wall":e.hasNorthWall,"square-maze__cell--has-south-wall":e.hasSouthWall,"square-maze__cell--has-east-wall":e.hasEastWall,"square-maze__cell--has-west-wall":e.hasWestWall});return a.a.createElement("div",{key:"cell-".concat(n,"-").concat(t),className:i},e.pathWeight||" ")})))})))}n(13);var v=function(){var e=Object(i.useState)("binary tree"),t=Object(r.a)(e,2),n=t[0],l=t[1],s=new c(30,30);s.buildPaths(n);var h=s.getCell(0,0),o=s.getCell(29,29);return s.findPath(h,o),a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement(d,{renderData:s.getRenderData()}),a.a.createElement("div",{className:"buttons"},a.a.createElement("button",{onClick:function(){return l("Aldous Broder")}},"Aldous Broder"),a.a.createElement("button",{onClick:function(){return l("binary tree")}},"Binary Tree"),a.a.createElement("button",{onClick:function(){return l("side winder")}},"Side Winder"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t,n){e.exports=n(14)}},[[7,1,2]]]);
//# sourceMappingURL=main.8abedfdb.chunk.js.map